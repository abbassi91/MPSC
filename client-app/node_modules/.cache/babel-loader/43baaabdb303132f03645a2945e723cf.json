{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/testRedux/App/client-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/testRedux/App/client-app/src/features/profiles/ProfilePhotos.tsx\";\nimport React, { useContext, useState } from 'react';\nimport { Tab, Header, Card, Image, Button, Grid } from 'semantic-ui-react';\nimport { RootStoreContext } from '../../app/stores/rootStore';\nimport PhotoUploadWidget from '../../app/common/photoUpload/PhotoUploadWidget';\nimport { observer } from 'mobx-react-lite';\n\nconst ProfilePhotos = () => {\n  const rootStore = useContext(RootStoreContext);\n  const _rootStore$profileSto = rootStore.profileStore,\n        profile = _rootStore$profileSto.profile,\n        isCurrentUser = _rootStore$profileSto.isCurrentUser,\n        uploadPhoto = _rootStore$profileSto.uploadPhoto,\n        uploadingPhoto = _rootStore$profileSto.uploadingPhoto,\n        setMainPhoto = _rootStore$profileSto.setMainPhoto,\n        deletePhoto = _rootStore$profileSto.deletePhoto,\n        loading = _rootStore$profileSto.loading;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        addPhotoMode = _useState2[0],\n        setAddPhotoMode = _useState2[1];\n\n  const _useState3 = useState(undefined),\n        _useState4 = _slicedToArray(_useState3, 2),\n        target = _useState4[0],\n        setTarget = _useState4[1];\n\n  const _useState5 = useState(undefined),\n        _useState6 = _slicedToArray(_useState5, 2),\n        deleteTarget = _useState6[0],\n        setDeleteTarget = _useState6[1];\n\n  const handleUploadImage = photo => {\n    uploadPhoto(photo).then(() => setAddPhotoMode(false));\n  };\n\n  return React.createElement(Tab.Pane, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    width: 16,\n    style: {\n      paddingBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Header, {\n    floated: \"left\",\n    icon: \"image\",\n    content: \"Photos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), isCurrentUser && React.createElement(Button, {\n    onClick: () => setAddPhotoMode(!addPhotoMode),\n    floated: \"right\",\n    basic: true,\n    content: addPhotoMode ? 'Cancel' : 'Add Photo',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(Grid.Column, {\n    width: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, addPhotoMode ? React.createElement(PhotoUploadWidget, {\n    uploadPhoto: handleUploadImage,\n    loading: uploadingPhoto,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }) : React.createElement(Card.Group, {\n    itemsPerRow: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, profile && profile.photos.map(photo => React.createElement(Card, {\n    key: photo.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Image, {\n    src: photo.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), isCurrentUser && React.createElement(Button.Group, {\n    fluid: true,\n    widths: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: e => {\n      setMainPhoto(photo);\n      setTarget(e.currentTarget.name);\n    },\n    name: photo.id,\n    disabled: photo.isMain,\n    loading: loading && target === photo.id,\n    basic: true,\n    positive: true,\n    content: \"Main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(Button, {\n    name: photo.id,\n    disabled: photo.isMain,\n    onClick: e => {\n      deletePhoto(photo);\n      setDeleteTarget(e.currentTarget.name);\n    },\n    loading: loading && deleteTarget === photo.id,\n    basic: true,\n    negative: true,\n    icon: \"trash\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))))))));\n};\n\nexport default observer(ProfilePhotos);","map":{"version":3,"sources":["/Users/mac/Desktop/testRedux/App/client-app/src/features/profiles/ProfilePhotos.tsx"],"names":["React","useContext","useState","Tab","Header","Card","Image","Button","Grid","RootStoreContext","PhotoUploadWidget","observer","ProfilePhotos","rootStore","profileStore","profile","isCurrentUser","uploadPhoto","uploadingPhoto","setMainPhoto","deletePhoto","loading","addPhotoMode","setAddPhotoMode","undefined","target","setTarget","deleteTarget","setDeleteTarget","handleUploadImage","photo","then","paddingBottom","photos","map","id","url","e","currentTarget","name","isMain"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Tab, Header, Card, Image, Button, Grid } from 'semantic-ui-react';\nimport { RootStoreContext } from '../../app/stores/rootStore';\nimport PhotoUploadWidget from '../../app/common/photoUpload/PhotoUploadWidget';\nimport { observer } from 'mobx-react-lite';\n\nconst ProfilePhotos = () => {\n  const rootStore = useContext(RootStoreContext);\n  const {\n    profile,\n    isCurrentUser,\n    uploadPhoto,\n    uploadingPhoto,\n    setMainPhoto,\n    deletePhoto,\n    loading\n  } = rootStore.profileStore;\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\n  const [target, setTarget] = useState<string | undefined>(undefined);\n  const [deleteTarget, setDeleteTarget] = useState<string | undefined>(\n    undefined\n  );\n\n  const handleUploadImage = (photo: Blob) => {\n    uploadPhoto(photo).then(() => setAddPhotoMode(false));\n  };\n\n  return (\n    <Tab.Pane>\n      <Grid>\n        <Grid.Column width={16} style={{ paddingBottom: 0 }}>\n          <Header floated='left' icon='image' content='Photos' />\n          {isCurrentUser && (\n            <Button\n              onClick={() => setAddPhotoMode(!addPhotoMode)}\n              floated='right'\n              basic\n              content={addPhotoMode ? 'Cancel' : 'Add Photo'}\n            />\n          )}\n        </Grid.Column>\n        <Grid.Column width={16}>\n          {addPhotoMode ? (\n            <PhotoUploadWidget\n              uploadPhoto={handleUploadImage}\n              loading={uploadingPhoto}\n            />\n          ) : (\n            <Card.Group itemsPerRow={5}>\n              {profile &&\n                profile.photos.map(photo => (\n                  <Card key={photo.id}>\n                    <Image src={photo.url} />\n                    {isCurrentUser && (\n                      <Button.Group fluid widths={2}>\n                        <Button\n                          onClick={e => {\n                            setMainPhoto(photo);\n                            setTarget(e.currentTarget.name);\n                          }}\n                          name={photo.id}\n                          disabled={photo.isMain}\n                          loading={loading && target === photo.id}\n                          basic\n                          positive\n                          content='Main'\n                        />\n                        <Button\n                          name={photo.id}\n                          disabled={photo.isMain}\n                          onClick={(e) => {\n                            deletePhoto(photo);\n                            setDeleteTarget(e.currentTarget.name)\n                          }}\n                          loading={loading && deleteTarget === photo.id}\n                          basic\n                          negative\n                          icon='trash'\n                        />\n                      </Button.Group>\n                    )}\n                  </Card>\n                ))}\n            </Card.Group>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n};\n\nexport default observer(ProfilePhotos);\n"]},"metadata":{},"sourceType":"module"}