{"ast":null,"code":"import _slicedToArray from \"/Users/abdelilah/Desktop/App/client-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/abdelilah/Desktop/App/client-app/src/features/activities/dashboard/ActivityDashboard.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Grid, Loader } from 'semantic-ui-react';\nimport ActivityList from './ActivityList';\nimport { observer } from 'mobx-react-lite';\nimport { RootStoreContext } from '../../../app/stores/rootStore';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ActivityFilters from './ActivityFilters';\nimport ActivityListItemPlaceholder from './ActivityListItemPlaceholder';\n\nconst ActivityDashboard = () => {\n  const rootStore = useContext(RootStoreContext);\n  const _rootStore$activitySt = rootStore.activityStore,\n        loadActivities = _rootStore$activitySt.loadActivities,\n        loadingInitial = _rootStore$activitySt.loadingInitial,\n        setPage = _rootStore$activitySt.setPage,\n        page = _rootStore$activitySt.page,\n        totalPages = _rootStore$activitySt.totalPages;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loadingNext = _useState2[0],\n        setLoadingNext = _useState2[1];\n\n  const handleGetNext = () => {\n    setLoadingNext(true);\n    setPage(page + 1);\n    loadActivities().then(() => setLoadingNext(false));\n  };\n\n  useEffect(() => {\n    loadActivities();\n  }, [loadActivities]);\n  return React.createElement(Grid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    width: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, loadingInitial && page === 0 ? React.createElement(ActivityListItemPlaceholder, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }) : React.createElement(InfiniteScroll, {\n    pageStart: 0,\n    loadMore: handleGetNext,\n    hasMore: !loadingNext && page + 1 < totalPages,\n    initialLoad: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(ActivityList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))), React.createElement(Grid.Column, {\n    width: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(ActivityFilters, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(Grid.Column, {\n    width: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    active: loadingNext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })));\n};\n\nexport default observer(ActivityDashboard);","map":{"version":3,"sources":["/Users/abdelilah/Desktop/App/client-app/src/features/activities/dashboard/ActivityDashboard.tsx"],"names":["React","useContext","useEffect","useState","Grid","Loader","ActivityList","observer","RootStoreContext","InfiniteScroll","ActivityFilters","ActivityListItemPlaceholder","ActivityDashboard","rootStore","activityStore","loadActivities","loadingInitial","setPage","page","totalPages","loadingNext","setLoadingNext","handleGetNext","then"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,mBAA7B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,gBAAT,QAAiC,+BAAjC;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,2BAAP,MAAwC,+BAAxC;;AAEA,MAAMC,iBAA2B,GAAG,MAAM;AACxC,QAAMC,SAAS,GAAGZ,UAAU,CAACO,gBAAD,CAA5B;AADwC,gCAQpCK,SAAS,CAACC,aAR0B;AAAA,QAGtCC,cAHsC,yBAGtCA,cAHsC;AAAA,QAItCC,cAJsC,yBAItCA,cAJsC;AAAA,QAKtCC,OALsC,yBAKtCA,OALsC;AAAA,QAMtCC,IANsC,yBAMtCA,IANsC;AAAA,QAOtCC,UAPsC,yBAOtCA,UAPsC;;AAAA,oBASFhB,QAAQ,CAAC,KAAD,CATN;AAAA;AAAA,QASjCiB,WATiC;AAAA,QASpBC,cAToB;;AAWxC,QAAMC,aAAa,GAAG,MAAM;AAC1BD,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAJ,IAAAA,OAAO,CAACC,IAAI,GAAG,CAAR,CAAP;AACAH,IAAAA,cAAc,GAAGQ,IAAjB,CAAsB,MAAMF,cAAc,CAAC,KAAD,CAA1C;AACD,GAJD;;AAMAnB,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,cAAc;AACf,GAFQ,EAEN,CAACA,cAAD,CAFM,CAAT;AAIA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,KAAK,EAAE,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,cAAc,IAAIE,IAAI,KAAK,CAA3B,GACC,oBAAC,2BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGC,oBAAC,cAAD;AACE,IAAA,SAAS,EAAE,CADb;AAEE,IAAA,QAAQ,EAAEI,aAFZ;AAGE,IAAA,OAAO,EAAE,CAACF,WAAD,IAAgBF,IAAI,GAAG,CAAP,GAAWC,UAHtC;AAIE,IAAA,WAAW,EAAE,KAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAJJ,CADF,EAeE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,EAkBE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,KAAK,EAAE,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlBF,CADF;AAwBD,CA7CD;;AA+CA,eAAeb,QAAQ,CAACK,iBAAD,CAAvB","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Grid, Loader } from 'semantic-ui-react';\nimport ActivityList from './ActivityList';\nimport { observer } from 'mobx-react-lite';\nimport { RootStoreContext } from '../../../app/stores/rootStore';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ActivityFilters from './ActivityFilters';\nimport ActivityListItemPlaceholder from './ActivityListItemPlaceholder';\n\nconst ActivityDashboard: React.FC = () => {\n  const rootStore = useContext(RootStoreContext);\n  const {\n    loadActivities,\n    loadingInitial,\n    setPage,\n    page,\n    totalPages\n  } = rootStore.activityStore;\n  const [loadingNext, setLoadingNext] = useState(false);\n\n  const handleGetNext = () => {\n    setLoadingNext(true);\n    setPage(page + 1);\n    loadActivities().then(() => setLoadingNext(false));\n  };\n\n  useEffect(() => {\n    loadActivities();\n  }, [loadActivities]);\n\n  return (\n    <Grid>\n      <Grid.Column width={10}>\n        {loadingInitial && page === 0 ? (\n          <ActivityListItemPlaceholder />\n        ) : (\n          <InfiniteScroll\n            pageStart={0}\n            loadMore={handleGetNext}\n            hasMore={!loadingNext && page + 1 < totalPages}\n            initialLoad={false}\n          >\n            <ActivityList />\n          </InfiniteScroll>\n        )}\n      </Grid.Column>\n      <Grid.Column width={6}>\n        <ActivityFilters />\n      </Grid.Column>\n      <Grid.Column width={10}>\n        <Loader active={loadingNext} />\n      </Grid.Column>\n    </Grid>\n  );\n};\n\nexport default observer(ActivityDashboard);\n"]},"metadata":{},"sourceType":"module"}